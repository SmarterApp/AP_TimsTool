package org.opentestsystem.ap.timstool.commandline;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.runners.MockitoJUnitRunner;
import org.opentestsystem.ap.timstool.command.Command;
import org.opentestsystem.ap.timstool.command.CommandEnum;
import org.opentestsystem.ap.timstool.command.CreateTestPackageCommand;

import java.util.HashMap;
import java.util.Map;

import static org.assertj.core.api.Assertions.assertThat;

@RunWith(MockitoJUnitRunner.class)
public class ToolCommandLineCommandsTest {

    static String commandName = CommandEnum.CreateTestPackage.getText();

    @Mock
    CreateTestPackageCommand commandInstance;

    Map<CommandEnum, Command> commands = new HashMap<>();

    ToolCommandLineCommands toolCommandLineCommands;

    @Before
    public void setUp() {
        commands.put(CommandEnum.CreateTestPackage, commandInstance);
        toolCommandLineCommands = new ToolCommandLineCommands(commands);
    }

    @Test
    public void testToolCommandLineCommands() {
        assertThat(toolCommandLineCommands.getCommands().size()).isEqualTo(1);
        assertThat(toolCommandLineCommands.getCommandInstance(commandName)).isEqualTo(commandInstance);
    }
}