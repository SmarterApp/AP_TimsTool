package org.opentestsystem.ap.timstool.commandline;

import lombok.Getter;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;

/**
 * The command line options for the TIMS Tool.
 */
@Getter
public class ToolOptions {
    /**
     * The application's options list.
     */
    private final Options options;

    /**
     * The help option for the application.
     */
    private final Option help;

    /**
     * Option to list the TIMS Tool commands
     */
    private final Option commands;

    /**
     * The input file for commands requiring a file to be uploaded.
     */
    private final Option inputFile;

    /**
     * The output file for commands with results that are written to disk.
     */
    private final Option outputFile;

    /**
     * The item ids to create SAAIF item content for
     */
    private final Option itemIds;

    /**
     * Flag to not automatically include tutorials when creating SAAIF packages
     */
    private final Option noTutorial;

    public ToolOptions() {
        this.help = Option.builder("h").longOpt("help")
            .desc("Prints this message.").build();

        this.commands = Option.builder("c").longOpt("commands")
            .desc("Lists the tool commands.").build();

        this.inputFile = Option.builder("i").longOpt("input")
            .hasArg().argName("file")
            .desc("Specifies the input file.").build();

        this.outputFile = Option.builder("o").longOpt("output")
            .hasArg().argName("file")
            .desc("Specifies the output file or directory.").build();

        this.itemIds = Option.builder("d").longOpt("itemIds")
            .hasArg().argName("item-ids")
            .desc("Specifies the item ids to create test packages for.").build();

        this.noTutorial = Option.builder("notut")
                .optionalArg(true)
                .hasArg(false)
                .desc("Do not automatically include tutorials when creating item content (SAAIF) packages.").build();

        this.options = new Options();
        this.options.addOption(this.help);
        this.options.addOption(this.commands);
        this.options.addOption(this.inputFile);
        this.options.addOption(this.outputFile);
        this.options.addOption(this.itemIds);
        this.options.addOption(this.noTutorial);
    }
}
